['JP 6789240 B2 2020.11.25(57)
【特許請求の範囲】
【請求項１】使用中に活性反応種が一時的に不活性になることにより容量が失われ得るリチウム硫黄の化学的性質を有する二次電気化学セルの充電状態、SOCをモデル化するための装置であって、使用中の前記リチウム硫黄セルの電気的特性を、前記セルの端子電圧をすべての充電状態、SOCに対する前記セルの動作状態に相関させる前記セルの内部状態を表すセルモデルに基づき予測するように動作可能なセルモデルモジュールと、使用中に一時的に不活性になる前記活性反応種の量の変化により前記セル内の活性反応種の量の変化を表すメモリモデルに基づき使用中の前記リチウム硫黄セルの使用可能容量 10をモデル化するように動作可能であるメモリ効果モジュールであって、前記メモリモデルは、前記セルの動作履歴に基づき使用時に、使用可能容量、Q である前記セルの定usable格容量Q の割合を予測し、前記メモリ効果モジュールはそれによって、活性反応種が使用t中に一時的に不活性になることによる前記セルの使用可能容量の可逆な変化を説明する、メモリ効果モジュールとを備え、前記装置は、前記セルモデルモジュールおよび/またはメモリ効果モジュールが前記メモリ効果モジュールによる前記セルの使用可能容量の前記予測を補償するために前記リチウム硫黄セルの動作履歴に基づき使用中に前記セルモデルモジュールを調整するように構成される装置。
【請求項２】 20(2) JP 6789240 B2 2020.11.25前記セルの前記動作状態は、前記セルのみなし開放回路電圧、前記セル上の電流負荷、前記セルの温度、前記セルの内部抵抗のうちの1つまたは複数を含む請求項1に記載の装置。
【請求項３】前記セルの前記内部状態を表す前記モデルは、いくつかのモデル化された電気素子を含む等価回路ネットワークモデルであり、前記等価回路ネットワークモデルは前記等価回路ネットワークモデルの構成電気素子の特性によってパラメータ化されている請求項1または2に記載の装置。
【請求項４】前記等価回路ネットワークモデルは、電圧源をオーム抵抗、およびRCペアとして表され 10る1つまたは複数の拡散抵抗と直列につなげたものからなる請求項3に記載の装置。
【請求項５】等価回路ネットワークは、前記電圧源としてみなされる前記セルのみなし開放回路電圧によるセル挙動をモデル化し、前記オーム抵抗および前記１つまたは複数の拡散抵抗のパラメータ化された特性は、与えられた充電状態において与えられた電流負荷および温度の下で前記回路内の前記電圧を前記セルの前記端子電圧まで低下させるように選択される請求項4に記載の装置。
【請求項６】前記セルの前記内部状態を表す前記モデルは、パラメータ化された物理ベースのセルモデルである請求項1または2に記載の装置。 20
【請求項７】前記動作状態の与えられた測定結果における前記セルの前記モデル化された挙動に対する前記セルモデルの前記パラメータに対する前記セルモデルモジュール値を提供するために使用可能であるように構成されているパラメータ値リソースをさらに備える請求項3から6のいずれか一項に記載の装置。
【請求項８】前記セルモデルに対する前記パラメータ値は、前記セルの前記モデル化された充電状態に依存する請求項7に記載の装置。
【請求項９】前記セルモデルに対する前記パラメータ値は、標準セルのテストに基づき経験的にまた 30は半経験的に導出される請求項7または8に記載の装置。
【請求項１０】前記セルモデルに対する前記パラメータ値は、パラメータ値リソース、適宜ルックアップテーブルに記憶される請求項7、8、または9に記載の装置。
【請求項１１】使用中に活性反応種が一時的に不活性になることにより容量が失われ得る使用中のリチウム硫黄の化学的性質を有する二次セルの充電状態、SOCを推定するための方法であって、使用中の前記セルの動作状態の測定を受け取るステップと、使用中の前記セルの内部状態を、 40前記セルの端子電圧をすべての充電状態、SOCに対する前記セルの動作状態に相関させる前記セルの前記内部状態を表すセルモデルに基づき使用中の前記セルの電気的特性を推定するセルモデルモジュールを使用して前記セルをモデル化するステップと、使用中に一時的に不活性になる前記活性反応種の量の変化により前記セル内の活性反応種の量の変化を表すメモリモデルに基づき使用中の前記セルの使用可能容量を予測するステップであって、前記メモリモデルは、前記セルの動作履歴に基づき使用時に、使用可能容量、Q である前記セルの定格容量Q の割合を相関させ、それによって活性反応usable t種が使用中に一時的に不活性になることによる前記セルの使用可能容量の可逆な変化を説明する、ステップと、前記セルの動作履歴に基づき使用中の前記セルモデルモジュールを調整してメモリ効 50(3) JP 6789240 B2 2020.11.25果モジュールによる前記セルの前記使用可能容量の前記予測を補償するステップと、前記セルの前記動作状態の前記受け取った測定結果を当てはめる前記セルモデルの内部状態構成を推定するステップと、前記セルの前記モデル化された内部状態構成に基づき、前記セルの前記充電状態、SOCを推定するステップとにより推定するステップとを含む方法。
【請求項１２】前記セルの健康状態を、前記セルの前記モデル化された使用可能容量Q と前記セusableルの前記定格容量Q との比として推定するステップをさらに含む請求項11に記載の方法。 10t
【請求項１３】繰り返しフィードバックループとして動作することによって各時間間隔において前記セルの前記推定された内部状態を精緻化するステップをさらに含み、前記繰り返しフィードバックループでは、前の時間間隔における前記セルの前記推定された内部状態を現在の時間間隔に前進させる前記セルモデルに基づく前記セルの前記内部状態の予測を、前記セルの前記測定された動作状態に基づき補正して、前記セルの現在の内部状態の前記推定を更新する、請求項11に記載の方法。
【請求項１４】カルマン型フィルタ、適宜、カルマンフィルタ、拡張カルマンフィルタ、アンセンテッドカルマンフィルタ、粒子フィルタ、またはルーエンバーガー状態推定器を使用して各時 20間間隔における前記セルの前記内部状態を推定するステップをさらに含む請求項13に記載の方法。
【請求項１５】予測誤差最小化法を使用して使用中の前記セルの前記内部状態を表す前記セルモデルのパラメータの推定を識別するステップをさらに含む請求項11または12に記載の方法。
【請求項１６】一組のファジー論理規則を解いて使用中の前記セルの前記内部状態を表す前記セルモデルのパラメータの推定を識別するステップをさらに含む請求項11または12に記載の方法。
【請求項１７】使用中のセル動作状態監視モジュールによって受け取られる前記セルの前記動作状態の 30前記測定は、前記セルの端子電圧、前記セル上の電流負荷、および適宜、前記セルの温度、および適宜、前記セルの内部抵抗を含む請求項11から16のいずれか一項に記載の方法。
【請求項１８】複数のセルを備える電池管理システムまたは複数のセルに結合するためのエネルギーシステムコントローラにおいて動作する請求項11から17のいずれか一項に記載の方法。
【請求項１９】使用中に活性反応種が不活性になることにより容量が失われ得る電気自動車に給電するように配置構成されている複数の二次電気化学セルを備える前記車両の航続距離を推定するための方法であって、使用中の前記セルの充電状態および残り容量を推定する請求項11から18のいずれか一項 40に記載の方法を実行するステップと、使用中の前記セルの前記充電状態および残り容量ならびに前記車両内の使用中の前記セルの前記予測された動作状態の前記推定に基づき前記電気自動車の航続距離を推定するステップとを含む方法。
【請求項２０】使用中に活性反応種が不活性になることにより容量が失われ得る電気自動車に給電するように配置構成されている複数の二次電気化学セルを備える前記車両に対するルートを計画するための方法であって、電気自動車の航続距離を推定するための請求項19に記載の方法を実行するステップと、所望の目的地に向かうルートを、そのルートを辿る前記セルの前記予測された動作状態 50(4) JP 6789240 B2 2020.11.25に基づき航続距離推定モジュールによって生成される前記電気自動車の推定された航続距離に少なくとも一部は基づき計画するステップとを含む方法。
【発明の詳細な説明】
【技術分野】
【０００１】本発明は、全般的に、通常使用におけるセルの動的な繰り返しによる容量変化のメモリ効果の影響を受けやすい二次セルの充電状態および健康状態を決定するための方法および装置に関するものである。本発明は、リチウム硫黄の化学的性質を有するセルに特定の有用性を見いだしている。本発明は、この方法および装置を、電池管理システムおよびエネルギーシステムコントローラ、ならびに電気自動車に使用する距離測定および経路発見装 10置および方法に応用することにも関する。
【背景技術】
【０００２】たとえば、携帯型電子製品および電気自動車輸送において、電源として使用するために充電式電池を構成する二次セルの残量を確実に決定する能力は、車両の残り使用時間または利用可能距離を計算する上で製造業者および消費者によって同様に高く評価されている。
【０００３】ガソリン車の場合、ガソリン残量は簡単に測定できるが、電気自動車およびハイブリッド車、ならびに電子デバイスでは、電池がそれらの電源として使用されているので、電池 20に蓄積されている残留エネルギーを測定することはより困難である。この困難にも関わらず、様々な技術が開発されている。
【０００４】したがって、二次セルを決定する重要な測定基準は、充電状態、SOCであり、これは充電が必要になるまで充電式電池に貯蔵されている残留エネルギーを示す。逆に、放電状態は、最後の充電以降に充電式電池によって供給されるエネルギーを示す。
【０００５】特に、SOCは、その充電サイクルQtにおいてそのセルによって供給される総容量と比較した、充電が必要になるまでにセル内に残っている容量のパーセンテージ指標である。SOC が時刻t における初期SOCパーセンテージであると仮定すると、時刻tにおけるセルのSO 300 0Cパーセンテージは
【０００６】
【数１】
【０００７】として定義され、Iは電流であり、放電については負、充電について正と定義され、Q は 40tセルの単位Ahによる最大容量である。
【０００８】したがって、SOCを追跡し、決定するために、充電状態の初期値SOC を設定する必要が0ある。リチウムイオンおよび他の充電式電池タイプでは、これは、通常、セルまたは電池を放電させる前に最大開放回路電圧(OCV)基準として達成される。しかしながら、以下で説明されるようないくつかのセルタイプ、特にリチウム硫黄セルについては、OCVは、「蓄積メモリ効果」とも呼ばれる、非常に強い「メモリ効果」(すなわち、ヒステリシス)の影響を受け、これはセルの最近の履歴に応じて非常に異なるSOCで最大開放回路電圧(OCV)が達成され得ることを意味する。
【０００９】 50(5) JP 6789240 B2 2020.11.25この点に関して、リチウム硫黄の化学的性質には、他の充電式電池タイプと比較して充電状態推定に関して固有の問題がある。たとえば、図1に示されているような例示的なリチウム硫黄セルの充電状態に対するOCVの図示されているプロットを見るとわかるように、放電曲線は、リチウムイオンセルのように直線的ではない。その代わりに、LiSセルOCV曲線は、100%のSOCから、かなり一定したOCVで短い容量高プラトー101を示し、その後、約2.15Vの一定したOCVの103で長い容量「低」プラトーへの急速な変化102が続き、これは、セルが0%のSOCに近づくにつれOCVが急速に低下する(104)まで続く。103の長いプラトーは、リチウム硫黄充電式電池に対する信頼性の高いSOC決定に対するOCVの直接的使用を事実上排除する。
【００１０】 10抵抗および温度測定を使用して日常生活での用途での正確さを改善することを含む、初期SOC決定の正確さを改善するための他の試みもなされているが、これでさえ、リチウム硫黄セルの内部抵抗が上述の「メモリ効果」の影響を強く受け、次の放電の前にセルを知られている状態に戻すことが必ずしも可能でないので、うまくいっていない。
【００１１】開始容量がわかっていることを必要としない別の知られている方法は、放電時に使用される、または充電時に貯蔵されるエネルギーの量を決定するためのクーロンカウント法を伴う。しかしながら、リチウム硫黄セルは、ファラデー効率が100%よりも著しく小さいことを意味する充電時の寄生反応を有する。充電時に電解液に溶解している多硫化物のこのシャトル現象(shuttling)があるため、過充電を回避できるが、SOC決定におけるクーロン 20カウント法の使用が妨げられるため、クーロンカウント法はLiSセルに対しては機能しない。
【００１２】米国特許第7,688,075B2号では、キャリブレーションされたリチウム硫黄セル、ならびに変化する温度および使用時間における標準セルに関する広範な実験室での研究から投入されたSOC対抵抗の埋め込まれているルックアップテーブルとの線形相関の使用を開示している。この方法は、リチウムイオンセルとは異なり放電時に抵抗の予測可能な段階的変化を引き起こすという点でリチウム硫黄セルの化学的性質の固有の特徴を利用する。この方法は、テーパー充電し、最大電圧まで充電し、次いで、電流が所定の一定の最小電流に等しくなるまで電流を減らしてその電圧を維持することによって100%のSOCでのセルの抵 30抗を決定することに頼る。これは、適切に定められた条件の下でSOCの正確な尺度をもたらす。
【先行技術文献】
【特許文献】
【００１３】
【特許文献１】米国特許第7,688,075B2号
【非特許文献】
【００１４】
【非特許文献１】Assaryら、J Phys. Chem C 118 (2014年)
【発明の概要】 40
【発明が解決しようとする課題】
【００１５】本発明の発明者らは、上記の方法では、動的な使用条件の下で、活性種が使用中に一時的に不活性になることによりパラメータQ が広い範囲にわたって変化する、リチウム硫黄tの化学的性質の別の固有の特徴を考慮していないことを認識している。
【００１６】このためのメカニズムは、活性陰極材(硫黄)がリチウムイオン電池中とは異なり電解液中に溶解するというものである。充電サイクルに対する100%のSOCまたは放電状態(SOD)における最大容量(Q )は、硫化リチウムへの陰極中の活性硫黄の変換に前のサイクルからのt電解液中に残っている中間物質の変換を加えることによって決定される。前のサイクルか 50(6) JP 6789240 B2 2020.11.25らの電解液中の中間物質の濃度は、前のサイクルの温度、充電/放電率、および充電または放電深度(すなわち、動作状態)によって決定される。
【課題を解決するための手段】
【００１７】したがって、動的または実生活におけるシステム内の精密で正確である健康状態を取得するために、本発明の発明者らは、健康状態計算にセルの履歴を考慮に入れなければならないことを認識した。
【００１８】ここで、健康状態、SoHは、充電式電池に貯蔵されている残留エネルギーとカレンダー寿命および/またはサイクル寿命に関する充電式電池の残存寿命に関係する充電式電池の 10使用の時効効果とを組み合わせた性能指数である。
【００１９】特に、SoHは、セルの総定格容量、Q と比較した、与えられた充電サイクルにおける最T大使用可能容量(測定単位はアンペア時Ah)、Q (すなわち、一時的に不活性、適宜さusableらに、永久的に不活性の種を補償する、そのサイクルに対するQ )のパーセンテージ指標tである。
【００２０】携帯型デバイスの荷重を軽くし、電気自動車の航続距離を拡大するために、好適なエネルギー密度および低コスト材料という点で、リチウム硫黄電池の関心が高まってきた。リチウム硫黄電池は、典型的には、モバイル電気デバイスおよび電気自動車向けに最先端の 20優れた理論的エネルギー密度をもたらす軽量のコンポーネントを備える可変パウチセル形態で製造される。したがって、通常使用におけるセルの動的な繰り返しによる容量変化のメモリ効果の影響を受けやすいリチウム硫黄セルなどの二次セルの充電状態および健康状態を確実に決定するための方法および装置を実現することが望ましい。
【００２１】上記の文脈において、本発明は考案されている。
【００２２】したがって、第1の態様から見たときに、本発明は、使用中に活性反応種が不活性になることにより容量が失われ得る二次電気化学セルの充電状態、SOCをモデル化するための装置を実現し、これはセルの端子電圧をすべての充電状態、SOCに対するセルの動作状態 30に相関させるセルの内部状態を表すモデルに基づき使用中のセルの電気的特性を予測するように動作可能なセルモデルモジュールと、セルの動作履歴に基づき使用時の使用可能容量、Q であるセルの定格容量Q の割合を相関させるセル内の活性反応種の量の変化usable tを表すメモリモデルに基づき使用中のセルの使用可能容量をモデル化するように動作可能であるメモリ効果モジュールとを備え、装置は、セルモデルモジュールおよび/またはメモリ効果モジュールがメモリ効果モジュールによるセルの使用可能容量の予測を補償するためにセルの動作履歴に基づき使用中にセルモデルモジュールを調整するように構成される。
【００２３】本発明のこの態様によれば、最近の動作履歴に基づきセルの使用可能な活性容量をモデ 40ル化し、セルモデルモジュールをしかるべく調整するために使用できる、メモリ効果モジュールを実現することで、結果として、動的な繰り返しにより使用中に活性種が一時的におよび/または永久的に不活性にされることで生じるセルの容量の変化を補償することができるセルの充電状態をモデル化するための装置が実現される。したがって、現実世界の使用事例における広い動作範囲内のセルの動作挙動を説明することができるセルの内部状態の信頼性の高いモデルが形成され得る。
【００２４】電気化学セルは、リチウム硫黄の化学的性質を有するものとしてよい。代替的に、モデル化されたセルは、使用中に活性反応種が不活性になることにより容量が失われ得るいわゆるメモリ効果の悪影響を受ける別の化学的性質を有し得る。 50(7) JP 6789240 B2 2020.11.25
【００２５】適宜、セルの動作状態は、セルの端子電圧、セルのみなし開放回路電圧(deemed open circuit voltage)、セル上の電流負荷、セルの温度、セルの内部抵抗のうちの1つまたは複数を含む。
【００２６】適宜、セルの内部状態を表すモデルは、いくつかのモデル化された電気素子を含む等価回路ネットワークモデルであり、等価回路ネットワークモデルは等価回路ネットワークモデルの構成電気素子の特性によってパラメータ化されている。等価回路ネットワークモデルは、電圧源をオーム抵抗、およびRCペアとして表される1つまたは複数の拡散抵抗と直列につなげたものからなるものとしてよい。適宜、等価回路ネットワークは、電圧源とし 10てみなされるセルのみなし開放回路電圧によるセル挙動をモデル化し、オームおよび拡散抵抗のパラメータ化された特性のモデルは、与えられた充電状態において与えられた電流負荷および温度の下で回路内の電圧をセルの端子電圧まで低下させるように選択される。等価回路ネットワーク(ECN)は、使用中のセルの挙動をモデル化するようにパラメータ化され得る特に効果的なモデルである。
【００２７】ECNの代わりに、他のモデルも使用され得る。適宜、セルの内部状態を表すモデルは、パラメータ化された物理ベースのセルモデルである。
【００２８】適宜、装置は、与えられた動作状態におけるセルのモデル化された挙動に対するセルモ 20デルのパラメータに対するセルモデルモジュール値を提供するために使用可能であるように構成されているパラメータ値リソースをさらに備える。適宜、セルモデルに対するパラメータ値は、セルのモデル化された充電状態に依存する。適宜、セルモデルに対するパラメータ値は、標準セルのテストに基づき経験的にまたは半経験的に導出される。適宜、セルモデルに対するパラメータ値は、パラメータ値リソース、適宜ルックアップテーブルに記憶される。
【００２９】適宜、セル内の活性反応種の量の変化を表すメモリモデルは、セル内の活性反応物質の量および/またはセル内の一時的に不活性な反応物質の量、および適宜、セル内の永久的に不活性な反応物質の量を追跡するものである。適宜、セル内の活性反応種の量の変化を 30表すメモリモデルは、セルの反応種の異なる発現、それらの異なる発現における反応種の量、充電および放電時に反応種のそれらの異なる発現が関わる反応、ならびにそれらの反応速度を関係付ける一組の規則を含む。適宜、モデル化された反応速度は、セルの動作状態、反応種の異なる発現のモデル化された量、セルの内部状態、使用中のセルの電気的特性のうちの1つまたは複数によってパラメータ化される。適宜、モデル化された反応速度に対するパラメータ化された値は、セルに対して理論的予測によって導出されるか、または標準セルのテストに基づき経験的にもしくは半経験的に当てはめもしくは導出が行われる。
【００３０】適宜、セル内の活性反応種の量の変化を表すメモリモデルは、セルの反応種を高次の発 40現、中次の発現、および低次の発現を表す3つのグループにグループ化する簡略化された物理モデルであり、モデルは、セルの充電および放電曲線を高プラトーおよび低プラトーに分割し、高-中次の発現の間の反応が高プラトーを決定付け、中-低次の発現の間の反応が低プラトーを決定付けると仮定する。適宜、メモリモデルでは、セル端子電圧が高プラトーと低プラトーとの間の境界レベルよりも低くなると、高-中次の発現の間の反応は生じず、それにより、反応物質の残りの量の高次発現は一時的に不活性であるとみなされるようになり、セルの残り容量に寄与することができないと仮定する。そのような簡略化された物理モデルは、いくつかの状況では、動的使用時にセルの容量の変化を適切に説明し得る。
【００３１】 50(8) JP 6789240 B2 2020.11.25適宜、メモリ効果モジュールは、メモリモデルによってモデル化されるセルの履歴が与えられた場合にセル内の活性反応種の量に基づき、与えられた一組の動作状態について、セルの使用可能容量、Q をモデル化するように構成される。usable
【００３２】適宜、装置は、パラメータ値リソースを調整してセルの使用可能容量における損失を補償するパラメータ値を提供するようにすることによってメモリ効果モジュールによるセルの使用可能容量の予測に基づき使用中のセルモデルモジュールを調整するように構成される。適宜、パラメータ値リソースは、与えられた低電流充電または放電率に対応するセルモデルに対するパラメータ値をベースラインパラメータセットとして使用するように構成され、装置は、端子電圧が境界電圧以下に減少したときに、パラメータ値リソースは低プ 10ラトーにおいて同じ端子電圧に対応する同じオーム抵抗値から続くようにベースラインパラメータ値をスキップし、スキップされた容量は一時的に不活性な種による容量損失を表すように、パラメータ値リソースを調整するように構成される。
【００３３】第2の態様から見たときに、本発明は、使用中に活性反応種が不活性になることにより容量が失われ得る使用中の二次電気化学セルの充電状態、SOCを推定するための装置を実現し、これは使用中のセルの動作状態の測定結果を受け取るように構成されているセル動作状態監視モジュールと、セルの端子電圧をすべての充電状態、SOCに対するセルの動作状態に相関させるセルの内部状態を表すモデルに基づき使用中のセルの電気的特性を予測するように動作可能なセルモデルモジュールと、セルの動作履歴に基づき使用時の使用可 20能容量、Q であるセルの定格容量Q の割合を相関させるセル内の活性反応種の量のusable t変化を表すメモリモデルに基づき使用中のセルの使用可能容量をモデル化するように動作可能であるメモリ効果モジュールであって、装置は、セルモデルモジュールおよび/またはメモリ効果モジュールがメモリ効果モジュールによるセルの使用可能容量の予測を補償するためにセルの動作履歴に基づき使用中にセルモデルモジュールを調整するように構成される、メモリ効果モジュールと、セル動作状態監視モジュールによって使用時に受け取られたセルの動作状態の測定結果に基づきセルモデルモジュールおよびメモリ効果モジュールを動作させて使用中のセルの内部状態を推定するように構成されている状態推定器モジュールと、セルの推定された内部状態に基づきセルモデルモジュールを動作させてセルの充電状態を推定するように構成されている充電状態推定器モジュールとを備える。 30
【００３４】本発明のこの態様によれば、セルの充電状態をモデル化するための装置は、使用中にセルの充電状態を確実に推定するように適用されるものとしてよく、セルモデルモジュールによるセルの内部状態の推定は、メモリ効果モジュールが最近の動作履歴に基づきセルの使用可能容量を追跡した結果としてセルの動的な繰り返しによる容量変化のメモリ効果を補償するように調整される。
【００３５】電気化学セルは、リチウム硫黄の化学的性質を有するものとしてよい。代替的に、モデル化されたセルは、使用中に活性反応種が不活性になることにより容量が失われ得るいわゆるメモリ効果の悪影響を受ける別の化学的性質を有し得る。 40
【００３６】適宜、充電状態推定器モジュールは、セルの健康状態の推定をセルのモデル化された使用可能容量Q とセルの定格容量Q との比としてもたらすようにさらに構成される。usable t
【００３７】適宜、状態推定器モジュールは、前の時間間隔におけるセルの推定された内部状態を現在の時間間隔に前進させるセルモデルに基づくセルの内部状態の予測がセルの測定された動作状態に基づき補正されて、セルの現在の内部状態の推定を更新する、繰り返しフィードバックループとして動作することによって各時間間隔において推定された状態を精緻化するように構成される。適宜、状態推定器モジュールは、カルマン型フィルタ、適宜、カルマンフィルタ、拡張カルマンフィルタ、アンセンテッドカルマンフィルタ(unscented k 50(9) JP 6789240 B2 2020.11.25alman filter)、粒子フィルタ、またはルーエンバーガー状態推定器(Luenberger state estimator)として構成される。適宜、状態推定器モジュールは、予測誤差最小化法を操作して使用中のセルの内部状態を表すセルモデルのパラメータの推定を識別するように構成される。適宜、状態推定器モジュールは、一組のファジー論理規則を解いて使用中のセルの内部状態を表すセルモデルのパラメータの推定を識別するように構成される。カルマン型フィルタの使用は、フィードバックを与える訂正推定ループによって改善され、経験的にまたは理論的に導出されるパラメータ値をルックアップテーブルに全部記憶させる必要性を回避することができる、セルの充電状態の円滑で正確な推定をする上で特に効果的であり得る。
【００３８】 10適宜、使用中のセル動作状態監視モジュールによって受け取られるセルの動作状態の測定は、セルの端子電圧、セル上の電流負荷、および適宜、セルの温度、および適宜、セルの内部抵抗を含む。
【００３９】適宜、セルモデルモジュールおよびメモリ効果モジュールは、本発明の第1の態様による上述の陳述のうちのどれかに従って装置によって実現される。
【００４０】適宜、装置は、セル動作状態測定手段をさらに備え、セル動作状態測定手段は端子電圧感知回路、および電流負荷感知回路、および適宜、平衡抵抗器を含むスイッチング回路を備えるセル内部抵抗感知回路、および温度センサを具備する。 20
【００４１】適宜、装置は、1つまたは複数のプロセッサおよび命令を記憶するコンピュータ可読媒体をさらに備え、命令は1つまたは複数のプロセッサによって実行されたときに、1つまたは複数のプロセッサに、本発明の上記の陳述のどれかに従って装置を実施させる。
【００４２】適宜、セルの内部状態を表すセルモデルに対するパラメータ値は、モデルを使用する際に、またはテストセルデータからパラメータ値を経験的に導出する際に、予測誤差最小化法によって識別される。適宜、予測誤差最小化法は、スカラー適合度関数を定義する。
【００４３】第3の態様から見たときに、本発明は、複数のセルを備える電池管理システムまたは複 30数のセルに結合するためのエネルギーシステムコントローラを実現し、これは使用中の前記複数のセルの充電状態、SOC、および適宜、健康状態SoHを推定するように配置構成されている本発明の上記の陳述のうちのどれかによる装置を含む。セルの充電状態をモデル化するか、または推定するためのこれらの装置の使用は、電池パックを構成する複数のセル内の残留充電量または容量の出力指示を行うために電池管理システムおよびエネルギーシステムコントローラにおいて特に有用であると思われる。
【００４４】第4の態様から見たときに、本発明は、使用中に活性反応種が不活性になることにより容量が失われ得る車両に給電するように配置構成されている複数の二次電気化学セルを備える電気自動車の航続距離を推定するための装置を実現し、この装置は使用中のセルの充 40電状態および残り容量を推定するよう動作するように構成されている本発明の第2または第3の態様による上述の陳述のうちのどれかによる装置と、使用中のセルの充電状態および残り容量ならびに車両内の使用中のセルの予測された動作状態の推定に基づき電気自動車の航続距離を推定するように構成されている航続距離推定モジュールとを備える。この態様によれば、セルの充電状態を推定するために装置を使用することで、電気自動車の航続距離を確実に推定することができる。
【００４５】第5の態様から見たときに、本発明は、使用中に活性反応種が不活性になることにより容量が失われ得る車両に給電するように配置構成されている複数の二次電気化学セルを備える電気自動車に対するルートを計画するための装置を実現し、これは本発明の第4の態 50(10) JP 6789240 B2 2020.11.25様の上記の陳述による電気自動車の航続距離を推定するための装置と、所望の目的地に向かうルートを、そのルートを辿るセルの予測された動作状態に基づき航続距離推定モジュールによって生成される電気自動車の推定された航続距離に少なくとも一部は基づき計画するように構成されているルート計画モジュールとを備える。この態様によれば、電気自動車に対する確実な航続距離推定を使用することで、ルート計画を円滑に行うことができる。
【００４６】適宜、装置は、ルート計画モジュールによって計画された複数のルートから目的地に向かう最適なルートを選択するためのルート最適化モジュールをさらに備える。
【００４７】 10第6の態様から見たときに、本発明は、命令を収めたコンピュータ可読媒体を実現し、命令は1つまたは複数のプロセッサによって実行されたときに、1つまたは複数のプロセッサに、本発明の上記の陳述のどれかに従って装置を実施させる。
【００４８】第7の態様から見たときに、本発明は、使用中に活性反応種が不活性になることにより容量が失われ得る二次電気化学セルのモデルを生成するための方法を提供し、モデルはセルの端子電圧をすべての充電状態、SOCに対するセルの動作状態に相関させるセルの内部状態を表すモデルに基づき使用中のセルの電気的特性を予測するように動作可能であり、セルの内部状態を表すモデルは、いくつかのモデル化された電気素子を含む等価回路ネットワークモデルであり、等価回路ネットワークモデルは等価回路ネットワークモデルの構 20成電気素子の特性によってパラメータ化されており、この方法はすべての充電状態、SOCに対するセルの動作状態の範囲にわたって使用中のセルの挙動を表すデータを生成するステップと、使用中のセルの挙動を表す生成されたデータに基づき、使用中のセルの挙動を表す生成されたデータに対応する等価回路モデルの挙動を生み出す電気的特性を等価回路に持たせる等価回路モデルのパラメータを充電状態の関数として識別するステップとを含む。
【００４９】本発明の上で説明されている態様では、セルに対するECNモデルの使用に関して方法を述べているが、これは制限ではなく、本発明の本質的特徴ではないことは理解されるであろう。ECNモデルの場合と同様に、物理ベースのセルモデルおよび使用中のセルの挙動を 30モデル化するためにパラメータ化され使用され得る高忠実度モデルを含む、代替的セルモデルが使用され得る。
【００５０】電気化学セルは、リチウム硫黄の化学的性質を有するものとしてよい。代替的に、モデル化されたセルは、使用中に活性反応種が不活性になることにより容量が失われ得るいわゆるメモリ効果の悪影響を受ける別の化学的性質を有し得る。
【００５１】適宜、等価回路ネットワークモデルは、電圧源をオーム抵抗、およびRCペアとして表される1つまたは複数の拡散抵抗と直列につなげたものからなり、電圧源の電圧、ならびにオーム抵抗およびRCペアの抵抗と静電容量は、等価回路モデルをパラメータ化する。 40
【００５２】適宜、セルの動作状態は、セルの端子電圧、セルのみなし開放回路電圧、セル上の電流負荷、セルの温度、セルの内部抵抗のうちの1つまたは複数を含む。
【００５３】適宜、すべての充電状態SOCに対するセルの動作状態の範囲にわたって使用中のセルの挙動を表すデータを生成するステップは、セルの高忠実度物理モデルを使用して異なる動作状態に対するセルの異なる充電状態におけるセルの端子電圧挙動を予測するステップを含む。
【００５４】適宜、すべての充電状態、SOCに対するセルの動作状態の範囲にわたって使用中のセル 50(11) JP 6789240 B2 2020.11.25の挙動を表すデータを生成するステップは、一定範囲の異なる作業状態の下でモデル化されたセルの設計の標準セルの挙動を制御しつつテストする(controlled test)ステップを含み、これは異なる充電/放電率および温度ならびに充電状態においてセルの端子電圧の測定結果を受け取るステップと、適宜、異なる充電/放電率および温度ならびに充電状態においてセルの内部抵抗の測定結果を受け取るステップとを含む。適宜、一定範囲の異なる作業状態の下でモデル化されたセルの設計の標準セルの挙動を制御しつつテストするステップは、電流パルスを設定された放電率でセルに印加するステップと、前記パルス間の緩和時間を、セルの端子電圧を開放回路電圧に戻せるように十分な時間のままにするステップとを含む。適宜、モデル化されたセルの設計の標準セルの挙動を制御しつつテストするステップは、テストセルのみなし完全充電状態から始まり、続いて、セルの端子電圧が 10テストセルに対する完全放電状態をキャリブレートするために使用される所定のレベル以下に低下するまで電流放電パルスを印加するステップをさらに含む。適宜、使用中のセルの挙動を表すデータを生成するステップは、各パルスの間の緩和フェーズの終わりのセルの端子電圧をその充電状態におけるセルの開放回路電圧であるとみなすステップをさらに含む。適宜、等価回路モデルのパラメータを充電状態の関数として識別するステップは、その充電状態のセルの開放回路電圧を使用してその充電状態における等価回路ネットワークモデルの電圧源に対するパラメータ値を識別するステップを含む。適宜、等価回路モデルのパラメータを充電状態の関数として識別するステップは、電流パルスの開始におけるセルの端子電圧の瞬間的低下を使用して、その充電状態における等価回路ネットワークモデルのオーム抵抗成分に対するパラメータ値を識別するステップを含む。適宜、等価回路 20モデルのパラメータを充電状態の関数として識別するステップは、瞬間的電圧低下から続くセルの端子電圧の段階的低下を使用して、等価回路ネットワークモデルの拡散抵抗成分に寄与するその充電状態に対するRCペアの抵抗および静電容量のパラメータ値を識別するステップを含む。
【００５５】適宜、方法は、予測誤差最小化法を使用して使用中のセルの挙動を表す生成されたデータに基づき識別された使用中のセルの内部状態を表すセルモデルのパラメータ値を精緻化するステップをさらに含む。
【００５６】適宜、方法は、セルの動作状態の範囲にわたってすべての充電状態におけるセルの挙動 30をモデル化するための等価回路ネットワークモデルに対する識別されたパラメータ値をパラメータ値リソースに記憶するステップをさらに含み、パラメータ値リソースは、適宜ルックアップテーブルである。
【００５７】適宜、方法は、セルモデルに対する識別されたパラメータ値を充電状態に依存する関数に当てはめるステップをさらに含む。適宜、パラメータ値は、充電状態の関数としてパラメータ値リソースに記憶される。
【００５８】第8の態様から見たときに、本発明は、使用中に活性反応種が不活性になることにより容量が失われ得る二次電気化学セルのメモリモデルを生成する方法を提供し、モデルは使 40用中にセル内の活性反応物質の量および/またはセル内の一時的に不活性な反応物質の量、および適宜、セル内の永久的に不活性な反応物質の量を予測するように動作可能であり、メモリモデルは使用中にセル内の活性反応物質の量および/またはセル内の一時的に不活性な反応物質の量、および適宜、セル内の永久的に不活性な反応物質の量を追跡するように動作可能であり、方法はセルの反応種の異なる発現、それらの異なる発現における反応種の量、充電および放電時に反応種のそれらの異なる発現が関わる反応、およびそれらの反応速度を関係付ける一組の規則を確立するステップと、モデル化された反応速度を、セルの動作状態、反応種の異なる発現のモデル化された量、セルの内部状態、使用中のセルの電気的特性のうちの1つまたは複数によってパラメータ化するステップと、モデル化された反応速度に対するパラメータ化された値を、高忠実度物理モデルに基づくセルに対 50(12) JP 6789240 B2 2020.11.25する理論的予測、または標準セルのテストに基づき経験的にもしくは半経験的にパラメータ値を当てはめるか、もしくは導出するステップによって識別するステップとを含む。
【００５９】適宜、セル内の活性反応種の量の変化を表すメモリモデルは、セルの反応種を高次の発現、中次の発現、および低次の発現を表す3つのグループにグループ化する簡略化された物理モデルであり、モデルは、セルの充電および放電曲線を高プラトーおよび低プラトーに分割し、高-中次の発現の間の反応が高プラトーを決定付け、中-低次の発現の間の反応が低プラトーを決定付けると仮定する。適宜、メモリモデルでは、セル端子電圧が高プラトーと低プラトーとの間の境界レベルよりも低くなると、高-中次の発現の間の反応は生じず、それにより、反応物質の残りの量の高次発現は一時的に不活性であるとみなされる 10ようになり、セルの残り容量に寄与することができないと仮定する。
【００６０】第9の態様から見たときに、本発明は、使用中に活性反応種が不活性になることにより容量が失われ得る使用中の二次セルの充電状態、SOCを推定するための方法を提供し、これは使用中のセルの動作状態の測定を受け取るステップと、使用中のセルの内部状態を、セルの端子電圧をすべての充電状態、SOCに対するセルの動作状態に相関させるセルの内部状態を表すモデルに基づき使用中のセルの電気的特性を推定するセルモデルモジュールを使用してセルをモデル化するステップ、セルの動作履歴に基づき使用時の使用可能容量、Q であるセルの定格容量Q の割合を相関させるセル内の活性反応種の量の変化をusable t表すメモリモデルに基づき使用中のセルの使用可能容量を予測するステップ、セルの動作 20履歴に基づき使用中のセルモデルモジュールを調整してメモリ効果モジュールによるセルの使用可能容量の予測を補償するステップ、およびセルの動作状態の受け取った測定結果を当てはめるセルモデルの内部状態構成を推定するステップによって推定するステップと、セルのモデル化された内部状態構成に基づき、セルの充電状態、SOCを推定するステップとを含む。
【００６１】適宜、この方法は、セルの健康状態を、セルのモデル化された使用可能容量Q とusableセルの定格容量Q との比として推定するステップをさらに含む。t
【００６２】適宜、この方法は、前の時間間隔におけるセルの推定された内部状態を現在の時間間隔 30に前進させるセルモデルに基づくセルの内部状態の予測がセルの測定された動作状態に基づき補正されてセルの現在の内部状態の推定を更新する繰り返しフィードバックループとして動作することによって各時間間隔においてセルの推定された内部状態を精緻化するステップをさらに含む。
【００６３】適宜、この方法は、カルマン型フィルタ、適宜、カルマンフィルタ、拡張カルマンフィルタ、アンセンテッドカルマンフィルタ、粒子フィルタ、またはルーエンバーガー状態推定器を使用して各時間間隔におけるセルの内部状態を推定するステップをさらに含む。
【００６４】適宜、この方法は、予測誤差最小化法を使用して使用中のセルの内部状態を表すセルモ 40デルのパラメータの推定を識別するステップをさらに含む。
【００６５】適宜、この方法は、一組のファジー論理規則を解いて使用中のセルの内部状態を表すセルモデルのパラメータの推定を識別するステップをさらに含む。
【００６６】適宜、使用中のセル動作状態監視モジュールによって受け取られるセルの動作状態の測定は、セルの端子電圧、セル上の電流負荷、および適宜、セルの温度、および適宜、セルの内部抵抗を含む。
【００６７】適宜、方法は、複数のセルを備える電池管理システムまたは複数のセルに結合するため 50(13) JP 6789240 B2 2020.11.25のエネルギーシステムコントローラにおいて動作している。
【００６８】第10の態様から見たときに、本発明は、使用中に活性反応種が不活性になることにより容量が失われ得る車両に給電するように配置構成されている複数の二次電気化学セルを備える電気自動車の航続距離を推定するための方法を提供し、この方法は使用中のセルの充電状態および残り容量を推定する本発明の第9の態様の上述の陳述による方法を実行するステップと、使用中のセルの充電状態および残り容量ならびに車両内の使用中のセルの予測された動作状態の推定に基づき電気自動車の航続距離を推定するステップとを含む。
【００６９】第11の態様から見たときに、本発明は、使用中に活性反応種が不活性になることにより 10容量が失われ得る車両に給電するように配置構成されている複数の二次電気化学セルを備える電気自動車に対するルートを計画するための方法を提供し、これは本発明の第10の態様の上記の陳述による方法を実行して電気自動車の航続距離を推定するステップと、所望の目的地に向かうルートを、そのルートを辿るセルの予測された動作状態に基づき航続距離推定モジュールによって生成される電気自動車の推定された航続距離に少なくとも一部は基づき計画するステップとを含む。適宜、方法は、ルート計画モジュールによって計画された複数のルートから目的地に向かう最適なルートを選択するステップをさらに含む。
【００７０】次に、本発明の態様のいくつかの好ましい実施形態について、付属の図面を参照しつつ、専ら例として説明する。 20
【図面の簡単な説明】
【００７１】
【図１】充電状態に対してOCVをプロットする例示的なリチウム硫黄セルに対する例示的な放電曲線を示す図である。
【図２】放電度(すなわち、1-SOC)に対する例示的なリチウム硫黄セルのオーム抵抗の段階的変化を放電率および温度の関数として例示するグラフである。
【図３】本発明の例示的な一実施形態によるSOCおよびSOHを推定するための装置の概略図である。
【図４】セル動作状態測定手段および内部抵抗感知回路の動作を示す簡略化された回路図である。 30
【図５】コントローラおよびメモリがより詳しく図示されている、本発明の例示的な一実施形態によるSOCおよびSOHを推定するための装置の概略図である。
【図６ａ】テストLiSセルを使用したECNモデルパラメータ化実験からの例示的な実験テスト結果を示す電圧対時間のプロットである。
【図６ｂ】テストLiSセルを使用したECNモデルパラメータ化実験からの例示的な実験テスト結果を示す電流負荷対時間のプロットである。
【図７ａ】LiSセルの挙動に対する単純な等価回路ネットワークモデルを示す図である。
【図７ｂ】LiSセルの挙動に対する単純な等価回路ネットワークモデルを示す図である。
【図８ａ】図6に示されている電流パルスについての、時間に対する電流負荷の詳細を示す図である。 40
【図８ｂ】図6に示されている電流パルスについての、時間に対するテストLiSセルの端子電圧の詳細を示す図である。
【図９ａ】R のパラメータ化された値を10℃におけるSOCおよび0.1Cの電流放電率の関数1として示す図である。
【図９ｂ】R のパラメータ化された値を10℃におけるSOCおよび0.1Cの電流放電率の関数2として示す図である。
【図１０】0.1Cの定電流放電率に対するECN予測および実験放電曲線、ならびに0.2Cの定電流放電率に対する放電曲線に対する標準実験データを示す図である。
【図１１ａ】図11bに示されているように、動的な繰り返しを受ける同じセルの容量変化を示す図である。 50(14) JP 6789240 B2 2020.11.25
【図１１ｂ】事前パルス発生、パルス発生、および後パルス発生サイクルについて、時間に対するセル電圧を示す図である。
【図１２ａ】0.1Cおよび0.5Cの放電率について単純なメモリモデルによって示されているようなR に対するルックアップテーブルを読み取るステップを示す図である。O
【図１２ｂ】単純なメモリモデルによって調整されるECNに対するモデル化された放電曲線をプロットした図である。
【図１３】異なる電流放電率を有するQ の変化を予測するように簡略化されたメモリモデtルによって調整されるECNセルモデルによって予測される放電曲線を示す図である。
【図１４】異なる放電率について0.1Cに対するR 値の読み取りを調整することからの比較OR プロットを示す図である。 10O
【図１５】リチウム硫黄電池に対する等価回路モデルの一般形態の図である。
【図１６ａ】識別されたパラメータ値とともに、予測誤差最小化法における異なる充電レベルでのセルの電圧に対する評価されたRMSE値を示す図である。
【図１６ｂ】識別されたパラメータ値とともに、予測誤差最小化法における異なる充電レベルでのセルの電圧に対する評価されたRMSE値を示す図である。
【図１６ｃ】識別されたパラメータ値とともに、予測誤差最小化法における異なる充電レベルでのセルの電圧に対する評価されたRMSE値を示す図である。
【図１６ｄ】識別されたパラメータ値とともに、予測誤差最小化法における異なる充電レベルでのセルの電圧に対する評価されたRMSE値を示す図である。
【図１７】本発明の一実施形態による充電状態/健康状態推定の例示的な方法を示す図で 20ある。
【図１８】動作等価回路モデルおよびカルマンフィルタリングを使用するリアルタイムSOC/SOH推定の概略図である。
【図１９】単純なカルマンフィルタを状態推定器として使用するパラメータ推定および解釈のための例示的なシステムアーキテクチャを示す図である。
【図２０】非線形カルマンフィルタを状態推定器として使用するパラメータ推定および解釈のための例示的なシステムアーキテクチャを示す図である。
【図２１】多重仮説フィルタを状態推定器として使用するパラメータ推定および解釈のための例示的なシステムアーキテクチャを示す図である。
【図２２】ファジー論理を状態推定器として使用するパラメータ推定および解釈のための 30例示的なシステムアーキテクチャを示す図である。
【図２３】簡略化された等価回路を使用する0.5から2%のSOC増分からの様々な予測範囲に対する予測結果を示す図である。
【図２４】本発明の態様の一実施形態による電気自動車の航続距離を推定し、ルートを計画するための方法を例示する流れ図である。
【発明を実施するための形態】
【００７２】次の説明では、特にリチウム硫黄セルに関して本発明の実施形態を述べているが、本発明は、また、他のセルの化学的性質に、特に、活性種が動的な負荷および動的な繰り返し(すなわち、1回の充放電の可変電流、変化する温度、および充放電の変化する深度)を通 40じて一時的に不活性にされることによりセルの使用可能容量が使用中に変化し得る化学的性質に有用性を見いだしていることを理解されたい。リチウム硫黄セルは、このメモリ効果を示すので、本発明は、通常使用状態におけるリチウム硫黄セルの充電状態および健康状態を確実にモデル化し、推定するのに特に有益である。
【００７３】他の共通の電池システムとは対照的に、リチウム硫黄セル内の活性材料は放電時に陰極から電解液中に溶解し、電気化学活性および安定性が変化する複数の中間種への複雑な相互変換の作用を受け、このプロセスは、充電後に反転される。図2に示されているように、電解液組成の変化は、公開されている米国特許第7,688,075B2号において説明されているような定常状態およびキャリブレートされたシステムにおけるSOCを指示するために使 50(15) JP 6789240 B2 2020.11.25用され得る抵抗の段階的変化を引き起こす。しかしながら、中間種の可逆溶解は、100%効率的ではなく、充電または放電の終わりに電解液中に残っている中間種の濃度は、充電/放電率、温度、および放電または充電の深度(次の充電/放電サイクルが始まる前に)とともに変化する。可変内部抵抗を引き起こすのはこれらの種であり、したがって、内部抵抗単独で必ずしもリチウム硫黄セルのSOCの信頼できる予測因子とならない。
【００７４】充電または放電について、そのサイクルに対する最大使用可能容量Q (すなわち、Qt usab)は、陰極において利用可能な硫黄から硫化リチウムへの変換と、それに加えて、電気le化学反応に関与する電解液中の中間種の濃度の変化とからなる。電解液中の中間種の濃度の変化は、正と負の両方であってよく、セル材料、拡散速度、および活性材料劣化速度な 10どの他の因子の影響を受け、したがって相対的充電状態は前のサイクルの累積履歴に依存する。リチウム硫黄セルは、動的負荷の下でメモリ効果を生じる。急激に変化する温度、放電率、および充電率、さらには充電および放電の可変深度の作用を受け得る日常生活のシステムでは、SOC推定器の事前キャリブレーションだけでは、「100% SOC/SOD」状態が使用時にセルが受けた実際の環境および動作状態に依存するので、セル抵抗に相対的な「100% SOC/SOD」状態におけるQ の良好の推定を与えることはできず、したがって、それはt電解液に溶解している中間種のレベルを示す。
【００７５】これを達成するために、本発明は、「メモリ効果を意識した」セルのSOCおよびSOHをモデル化し、推定するための装置を実現する。モデルは、セルまたは電池の一意的な環境履 20歴を使用して、モデル予測に基づきそのセルまたは電池の現在の状態を識別する。
【００７６】サイクルからサイクルにわたってオーバーレイされるとSOCメモリ効果は時間およびサイクル数で導出される劣化プロセスであり、これは反応に利用可能な活性硫黄種の量を不可逆的に減らすか、および/またはセル材料を劣化させて利用可能な活性硫黄の利用を減らす。SOHは、利用可能な活性材料を減らすことによって実験から導出された時間およびサイクル数の関数として説明される。
【００７７】リチウム硫黄電池の充電状態および健康状態を決定するために、動的負荷の下で動作しているリチウム硫黄セルについて収集されたモデルおよび累積履歴データを利用して異な 30る状態の下でのリチウム硫黄セルの端子電圧を推定するための装置および方法が使用される。
【００７８】図3を参照すると、セルの健康状態を推定するための装置300は、使用中のセルが曝されている累積動作状態を記憶するためのメモリ301を備え、コントローラ302に利用可能にされる。装置300は、使用中のリチウム硫黄セル(図示せず)に結合され、そのSOCおよびSOHを推定するように構成される。この実施形態では、装置は、セル動作状態測定手段をさらに備え、セル動作状態測定手段は端子電圧感知回路303、および電流負荷感知回路304、平衡抵抗器を含むスイッチング回路を備えるセル内部抵抗感知回路305、および温度センサ306を具備する。これらは、セル上の電流負荷、セル上の端子電圧、セルの内部抵抗の尺度 40、ならびにセルの温度および/または周囲温度を測定するかまたは計算し、コントローラ302に入力するように配置構成される。
【００７９】図4を参照すると、セル動作状態測定手段400がより詳しく示されている。ここで、セルの内部抵抗は、使用中のセル403の測定された内部抵抗の直接フィードバックを装置に提供するために平衡抵抗402をスイッチング(スイッチ401を使用して)することによって課される電流パルスからの計算により使用中にリアルタイムで定期的に測定される。実施形態において、コントローラ302は、セルの内部状態の推定に基づき、使用中のセルの内部抵抗の推定をもたらし得る。これをセル内部抵抗感知回路305を使用して取得された内部抵抗の測定結果と比較することによって、セルの内部状態のコントローラのモデルは、正フ 50(16) JP 6789240 B2 2020.11.25ィードバックを使用して調整できる。
【００８０】本発明の態様によれば、図5に示されているように、コントローラ302は、セル(たとえば、LiSセル)の充電状態および健康状態をモデル化するための装置(すなわち、この実施形態におけるSOCモデル531)を実装する。特に、コントローラ302は、コンピュータ可読命令を実行するためのプロセッサ521(1つまたは複数のプロセッサによって実現され得る)とRAM522とを備える。
【００８１】メモリ301は、コントローラ302(特にプロセッサ521)によって実行されたときにコントローラ302に本発明の態様によるセルのSOC/SOHをモデル化し、推定するための装置を実施 10させるプログラム論理511を記憶する。
【００８２】特に、プロセッサ521は、RAM522において、動作挙動をその動作範囲内でモデル化することによって、セル403の充電状態および健康状態をモデル化するためのSOCモデル531をインスタンス化する。
【００８３】これは、セルの端子電圧をすべての充電状態、SOCに対するセルの動作状態に相関させるセルの内部状態を表すモデル(たとえば等価回路ネットワーク(ECN)または物理ベースのセルモデル)に基づき使用中のセルの電気的特性を予測するように動作可能なセルモデルモジュール532を含むSOCモデル531によって達成される。セルモデルは、等価回路ネット 20ワークモデルの構成電気素子の特性によって、ECNモデルの例においてパラメータ化される。ECNに対するパラメータ値は、与えられた動作状態においてセルのモデル化された挙動に対するECNセルモデルのパラメータに対するセルモデルモジュール値に供給するために使用可能となるように構成されているメモリ301に記憶されているパラメータ値リソース512からセルモデルモジュール532に供給される。したがって、一組の与えられた動作状態、およびSOCについて、ECNに対するパラメータ値が取得され得る。パラメータ値を生成してセル403に対するセルモデルを作成するために、セルモデルに対するパラメータ値は、標準セルのテストに基づき経験的にまたは半経験的に導出される。セルモデルに対するパラメータ値は、セルのモデル化された充電状態に依存する。パラメータ値リソース512は、適宜ルックアップテーブルである。 30
【００８４】SOCモデル531は、メモリ301に記憶されているセルの動作履歴513に基づき使用時に、使用可能容量、Q であるセルの定格容量Q の割合を相関させるセル内の活性反応種のusable t量の変化を表すメモリモデルに基づき使用中のセルの使用可能容量をモデル化するように動作可能であるメモリ効果モジュールも備える。メモリモデルは、セル内の活性反応物質の量および/またはセル内の一時的に不活性な反応物質の量(セルの動的な使用および負荷による容量の一時的変化を表す)、および適宜、セル内の永久的に不活性な反応物質の量(セルの容量の永久的喪失を表す)を追跡する。メモリモデルは、セルの反応種の異なる発現、それらの異なる発現における反応種の量、充電および放電時に反応種のそれらの異なる発現が関わる反応、ならびにそれらの反応速度を関係付ける一組の規則を含む。モデル 40化された反応速度は、セルの動作状態、反応種の異なる発現のモデル化された量、セルの内部状態、使用中のセルの電気的特性のうちの1つまたは複数によってパラメータ化される。モデル化された反応速度に対するパラメータ化された値は、セルに対して理論的予測によって導出されるか、または標準セルのテストに基づき経験的にもしくは半経験的に当てはめもしくは導出が行われる。
【００８５】使用中のセルの容量の変化に対するメモリ効果を説明するために、SOCモデル531は、セルの動作履歴に基づき使用中のセルモデルモジュール532を調整してメモリ効果モジュールによるセルの使用可能容量の予測を補償するように構成される。調整するこのステップは、セルモデルモジュール532および/またはメモリ効果モジュール533によって実行され 50(17) JP 6789240 B2 2020.11.25得る。
【００８６】したがって、SOCモデル531は、ひとたび作成されれば、メモリ効果を考慮するとしても、セルの内部状態および動作挙動をその動作範囲においてモデル化するために使用できる。
【００８７】しかしながら、使用中、SOCモデル531は次のようにしてセルのSOCを推定するために使用され得る。
【００８８】プログラム論理511は、また、プロセッサ521にRAM522においてセル動作状態監視モジュ 10ール400によって使用時に受け取られたセルの動作状態の測定結果に基づきセルモデルモジュール532およびメモリ効果モジュール533を動作させて使用中のセルの内部状態を推定するように構成されているセル状態推定器534をインスタンス化させる。セル状態推定器534が、SOCモデル531を使用してセル403の内部状態を推定した後、セル状態推定器モジュール534のサブコンポーネントであってもなくてもよい、SOC推定器モジュール535は、セルの推定された内部状態に基づきセルモデルモジュール532を操作してセルの充電状態を推定させるように構成される。これは、パラメータ値リソース512を参照することにより、ECNモデルに対する推定されたパラメータを使用してSOCを決定することによって達成される。
【００８９】 20上記の例は、メモリ301に記憶されているプログラム論理に基づくCPUコアなどのより汎用のプロセッサ521による本発明のコンポーネントのソフトウェア駆動方式の実装を示しているが、代替的実施形態では、本発明のいくつかのコンポーネントは、たとえば、特定用途向け集積回路(ASIC)またはフィールドプログラマブルゲートアレイ(FPGA)を使用して、事前構成された電子システムまたは組込コントローラおよびプログラマブル論理デバイスとして組み込まれている回路として部分的に組み込まれるものとしてよく、これらは組み込みソフトウェアまたはファームウェアによって部分的に構成され得る。
【００９０】セルのSOCをモデル化し、推定するSOCモデル531およびセル状態推定器534を作成するための装置300の特定の実装について以下でより詳しく説明する。その様々な実装において 30、本発明は、リチウム硫黄電池、モジュール、またはセルの充電状態および健康状態の精密で正確な決定を行うための装置および方法を提供する。装置300は、実施形態において、複数のセルを備える電池管理システムまたは複数のセルに結合するためのエネルギーシステムコントローラの一部として実現される。
【００９１】セルモデルモジュールの生成-等価回路の例端子電圧Vをセルの各SOCに対する電流および温度の関数として相関させる等価回路モデルが、セルに対して最初に生成される(すなわち、100%から0%)。これは、いずれかの標準電池テスト機器を使用して、その後分析されるか、またはLiSセルの高忠実度物理モデルを使用して予測される同じタイプの標準セルからテストデータを生成することにより達成 40される。この出力は、等価回路モデルをパラメータ化するために使用され、パラメータ値はSOCに依存する。パラメータ値およびモデルは、複数のセルを備える電池管理システムまたはエネルギーシステムコントローラ内に組み込まれる。
【００９２】実験テストが実行される場合、これは充電または放電率(すなわち、定格容量(与えられた時間枠内の)をもたらす放電/充電電流および時間と比較した放電/充電電流の比)などの異なる作業状態の下でセルの挙動を観察するためのものである。各テストデータは、時間、課される電流、電池端子電圧、および温度を含む。時間に対する、セルに印加される電流負荷を示す、図6bに示されているように、典型的なテスト方法では、一定の振幅の連続する放電電流パルスがセルに課され、セルの端子電圧が測定される。これからわかるよう 50(18) JP 6789240 B2 2020.11.25に、例示的なテストにおいて、放電率が1Cである86個の連続する電流放電パルスが印加されており、各々の後に600秒の静止期間がある。
【００９３】時間に対するLiSセルの端子電圧を示す、図6aからわかるように、テストセルは、完全充電2.8〜2.1Vで始まり、セルの端子電圧が0.5から2.1Vの間の定義済みカットオフ電圧未満に低下するまで継続する。サンプリングレートは、0.1秒から12時間の間で変化し得る。
【００９４】実験テストデータの収集の際に、各電流パルスの後に電池端子電圧が開放回路電圧VOCおよび/または定常状態に戻るのに十分な緩和時間(1秒から100時間)が続く。 10
【００９５】次いで、等価回路ネットワークでは、実験データ調整適合度を計算複雑度に適合させる好適な柔軟性をもたらすモデル構造が選択される。LiSセルの挙動に対する例示的な単純モデルが図7aに示されており、端子電圧V は、オーム抵抗R ならびに抵抗R および静電容t o p量C を有する1つまたは複数のRCペアによってもたらされる拡散抵抗と直列につながってpいる開放回路電圧V をもたらすセルによって発生する。図7bに示されているこれの等価OCV回路は、開放回路電圧を、オーム抵抗R ならびにRCペアR 、C によってもたらされる拡散o n n抵抗と直列につながる、電圧源とみなす。
【００９６】次いで、LiSセルの等価回路ネットワークモデルは、等価回路ネットワークモデルの構 20成電気素子の特性-すなわち、開放回路電圧ならびにオームおよび拡散抵抗-によってパラメータ化される。パラメータ化は、たとえば、テストデータにおける観察された挙動を使用して実行される。
【００９７】モデルパラメータ化の例示的な一方法は、開放回路電圧、V を、現在の、定義済みモOCVデル入力によって決定される、SOCによって値が定義されている電位源としてみなす。モデル構造内のRCペアの数は、モデルと実験データとの間の呼応関係を改善するように増やすことができる。モデルが意図しているのは、指定された温度で前の入力電流が与えられた場合に、回路上にかかる全電圧降下を時間の関数として予測することである。これは、開放回路電圧、R およびC を与えられた場合に計算できる。リチウム硫黄セル内の開放回 30n n路電圧は、モデルの目的に関して、2.15V±0.1Vに等しい、真のOCVでないので、各緩和フェーズの終わりのセル電位、E はOCVとみなされる。m
【００９８】次に、図6に示されている電流パルスについての、時間に対する電流負荷、および電流パルスについての、時間に対するテストLiSセルの端子電圧の詳細をそれぞれ示す、図8aおよび図8bへの参照がなされる。図8bに示されているように、直列オーム抵抗R は、電流0パルスの印加後の即時電圧降下、または電流パルスの放出後の即時電圧上昇を測定することによって実験データから直接計算されるか、またはパラメータ化され得る。電圧の即時変化は、等価回路モデルのオーム抵抗コンポーネントの結果としてであると仮定され、それを計算するために使用される。 40
【００９９】図8bに示されているセル電圧の曲がった変化に至る遅延抵抗を引き起こすことを仮定されている拡散抵抗コンポーネントの残りのR およびC 値は、未知である。電流パルスが終n n了した後の緩和フェーズ曲線におけるデータを使用する次のパラメータ化プロセスは、等価回路ネットワークモデルを出力実験データに当てはめてそれらを決定するために使用される。
【０１００】数学的に、等価回路ネットワーク上の電位差は、次の関係式により、開放回路電圧からIR オーム抵抗およびRCペア拡散抵抗(2つのRCペアの場合にV およびV )上の電位降下を引0 1 2いた値に等しい。 50(19) JP 6789240 B2 2020.11.25V=E -IR -V -Vm 0 1 2RCペアの各々における電位降下は、関係
【０１０１】
【数２】
【０１０２】 10によって決定される。したがって、パルス発生時に、セル電圧は
【０１０３】
【数３】
【０１０４】によって決定される。ここで、V (0)は、RCペアにかかる初期電圧であり、各パルスの開 20n始時にゼロであると仮定される。緩和時に、電圧は
【０１０５】
【数４】
【０１０６】によって与えられる。ここで、V (0)=IR は、先行するパルスの終わりの電位であり、コ 30n nンデンサが完全に充電されていると仮定して計算できる。
【０１０７】未知のR 、C パラメータに対する当てはめ手順では、非線形最小二乗法または好適な代n n替え手法を使用し、モデルと実験との間の誤差の平方のすべてのデータ点にわたる総和を最小化する。
【０１０８】
【数５】40
【０１０９】ここで、iは、放電曲線内のすべてのデータ点にわたって動く。値は、trust-region reflectiveアルゴリズムまたは好適な代替え手法を使用して最小化される。
【０１１０】実験テストデータを使用してECNモデルに対するすべてのパラメータを推定した後に、ルックアップテーブルがRC分岐抵抗および静電容量に対する各SOCについて作成され、データは、それぞれ、R およびR のパラメータ化された値を10℃のSOCおよび0.1Cの電流放1 2電率の関数として示す、図9aおよび図9bに示されているような、最良適合曲線当てはめを 50(20) JP 6789240 B2 2020.11.25使用して平滑化される。交差点は、パラメータ推定結果を表し、直線は、最良適合曲線である。
【０１１１】ルックアップテーブルは、メモリ喪失効果を考慮せずに、標準テストLiSセルの挙動のモデルを作成するために使用される、本発明による正常に機能しているSOC/SOH推定器にパラメータ値リソース512として記憶され得る。
【０１１２】曲線に対して当てはめられるパラメータおよび式は、たとえば、次の当てはめ多項式に従って、生成される。
【０１１３】 10
【数６】20
【０１１４】当てはめられる曲線の形態に応じて、曲線の異なる部分を当てはめるために2つ以上の 30多項式が使用されてよい。これは、曲線に単一の多項式だけを当てはめるのが実用的でない、したがって2つ以上の多項式の組合せが使用できる場合に有用である。
【０１１５】ただし、ルックアップテーブルはSOCに対する式のパラメータを保持する。パラメータ化の後、実験および予測定電流放電曲線は図10(0.1Cの放電率に対するECN予測および実験放電曲線、および0.2Cの放電率に対する放電曲線に対する標準実験データを示す)に示されているようにプロットされ、モデルの検証を行うことができる。
【０１１６】モデル式を解くために、クーロンカウント法が特定の解時間ステップでパラメータ値を決定するために使用され、ルックアップテーブル内の必要な中間値を決定するために補間 40が使用される。その時間で総電位降下を決定するために、式が解かれる。
【０１１７】メモリ効果モデルの生成次いで、等価回路ネットワークモデルによって生成されるルックアップテーブルは、特定のサイクルにおいてセルの以前の履歴およびあり得る環境条件に基づきQ を調整するたtめにリチウム硫黄メモリ効果のモデルによって修正される。前の充電/放電事象およびその条件(温度および電流の大きさ)は、電解液中に溶解している種の濃度に影響を及ぼし、したがってそれにより、Q の変動が観察され得る図11において観察され得るような、セルtの瞬間直列抵抗の変化がマークされ、セル容量事前パルス発生実験は、約2.5Ahであり、第1のサイクルの事後パルス発生実験では、容量は約2Ahに減るが、その後のサイクルで容 50(21) JP 6789240 B2 2020.11.25量は約2.8Ahに回復する。詳しくは、図11aに、事前パルス発生、パルス発生、および後パルス発生サイクルについて、時間に対するセル電圧を示す図11bに示されているように、動的な繰り返しを受ける同じセルの容量変化を示している。同じ温度および電流での同じセルの繰り返しは2.5Ahの容量をもたらす。次いで、シミュレートされた動的な放電および充電を受ける。次の2つのその後のサイクルは、2Ahの第1のより低い容量と、それに続く、より2.8Ahのより大きい容量を示しており、動的負荷の下で可逆容量変化、および電流変化への複雑な応答があることを示す。
【０１１８】動的な繰り返しに続くQ の変化は、メモリ効果の発現である。t
【０１１９】 10このメモリ効果および充電状態推定へのその影響を捕らえるために、モデルが等価回路モデルに追加されてセルモデルを構成するが、それに関連して使用され、これはメモリ効果モジュール533で実装されるメモリモデルである。
【０１２０】メモリモデルは、セル内の異なる発現に存在する硫黄材料、すなわち現在活性を有する反応物質および生成物、ならびに一時的に不活性な種の量の経過を追い、これによりSOCを予測するときにメモリ効果によるセルの使用可能容量の一時的変化を監視し補償することができる。
【０１２１】モデルは、また、SOHを説明するために永久的に不活性にされたさらなる発現-多硫化物 20材料の発現を含めることによって活性材料の喪失による劣化を含むように拡張することができ、それにより、SOCを予測するときに反応物質の不可逆的喪失によるセルの使用可能容量の永久的減少を監視し、補償することができる。
【０１２２】したがって、このメモリモデルは、活性種がどれだけ(Q )存在しているかに基づusableき本発明によるSOC推定装置および方法がSOCをもたらすことを可能にし、それはいぜんとしてQ に有益な形で寄与し得る。健康状態は、Q /Q によって決定され、Q はセt usable t=0 t=0ルの開始容量である。
【０１２３】メモリモデルは、与えられた電流負荷についてセル寿命全体にわたってこれらの異なる 30発現中の硫黄の量を監視することによって電池の充電状態を効果的に追跡する。これは、等価回路モデル、または電解液を通じて沈殿/溶解、酸化還元反応、および拡散の動力学を取り込む任意のタイプのモデルと相乗作用を有する。
【０１２４】与えられたセルに対するLiSモデルを生成し、操作するために、まず始めに、セルの使用に対して典型的でない場合でも、LiSセルに十分低い電流が印加される場合を参照充電/放電性能としてみなすことができる。この場合、メモリモデルは、この参照情報が現実の電流負荷の下でセルの充電状態を予測/監視する際に使用される方法を示している。
【０１２５】一組の硫黄種は、それらが関わる反応とともに、充電および/または放電に対する一組 40の規則(式)に投入される。反応は、電気化学的および化学的の両方の反応であるものとしてよい。セルの電圧は、たとえば、各許容される反応に対するネルンストの式を介して、付随的に生じるすべての電気化学反応の平衡電圧として計算される。硫黄材料が一方の発現から他方の発現に変換される速度は、異なる反応の速度によって与えられるが、通過する電流の量、温度、および反応物質の量対生成物の量によっても与えられる。反応速度は、予測されるか、当てはめられるか、または実験的に導出される。数学的には、この効果は、バトラー・ボルマー式または類似の式を解いて、セルの内側の全イオン電流への各種の寄与分を抽出することによって記述され得る。その結果、各発現中の材料の瞬間的量は、セルの履歴に依存し、セル電圧および直列抵抗をそれに依存させる。
【０１２６】 50(22) JP 6789240 B2 2020.11.25メモリモデルの簡略化された一バージョンにおいて、活性材料は、3つの可能な発現、すなわち、高次、中次、および低次の多硫化物として出現する。高-中次反応はより高い動作電圧を決定付け、高次プラトーを引き起こすが、中-低次反応は低次プラトーを決定する。放電時に、セルが低プラトー電圧にあるときに高次多硫化物がまだ存在している場合、これらは反応せず(または反応しないと仮定され)、したがって一時的に不活性になる。
【０１２７】低電流パルス放電に対する直列抵抗は、電解液中に溶解している中次多硫化物の量に比例すると考えられる。この単純なメモリモデルの場合、3つの硫黄発現しかない。その結果、低プラトーでは、中次多硫化物である活性材料の割合は、セルの残り容量を表すが、 10高プラトーでは、高次と中次の両方の多硫化物となるであろう。
【０１２８】次に、この簡略化されたメモリモデルを考慮し、パラメータ値リソース512(すなわち、ルックアップテーブル)からパラメータ値を取り出す際にセルモデルの動作を調整してメモリモデルによってモデル化される活性種を一時的に不活性にするためのセルモデルを補償するための可能なメカニズムについて説明する。
【０１２９】上記のように、セルの電圧は、ECNモデルにおいて電圧源(E 、開放回路電圧)から回路m内のRCコンポーネント上の電圧降下を差し引いた値として得られる。たとえば、以下の通りである。 20
【０１３０】
【数７】
【０１３１】このアプローチの結果として、電流負荷の下で、セル電圧V は、高プラトー電圧にcell対応するE にもかかわらず低プラトー領域に対応する値に到達する。V とE との差はm cell m、電流負荷とともに増大する。V が定義済み境界V (高プラトーと低プラトーとの間の 30cell b境界電圧)に達するとすぐに、未反応高次多硫化物は、不活性または休止状態として記憶され、中次多硫化物は、低プラトーにおける支配的反応に従って、低次多硫化物の方へ反応を開始する。
【０１３２】これを補償するステップは、R に対する等価回路モデルからのルックアップテーブルがO使用中に読み出される仕方によって達成される。使用中に、セル電圧が高プラトーと低プラトーとの間の境界電圧よりも小さくなる、すなわち、V ≦V になる場合、図12aの点cell b線の矢印によって指示されているように、低次プラトー内の同じR 値(溶解している中次O多硫化物の同じ量)に対応するR プロット上の位置が見つかる。メモリモデルに基づき補O償するときにモデル化された容量における調整の効果は、図12bに示されており、これは 40メモリモデルによって調整されるECNに対するモデル化された放電曲線をプロットしたものである。詳しく述べると、図12aは、0.1Cおよび0.5Cの放電率について単純なメモリモデルによって示されているようなR に対するルックアップテーブルを読み取るステップをO示している。0.1Cの放電曲線については、参照ルックアップテーブルが使用される(これは十分に低い電流に対応しているので)。しかしながら、0.5Cでは、セル電圧が高プラトーと低プラトーとの間の境界電圧未満に降下した場合、点線の矢印で指示されているようにより高い電流での放電の効果を考慮するためにルックアップテーブルを使用するメカニズムが必要であることがわかる(すなわち、プロットからR 値を読み取るステップは、RO Oプロットの下向きの勾配上の対応するR 値へスキップする)。図12bからわかるように、結O果として、0.5Cでは、0.1Cでの放電と比較して約1.3Ahの一時的容量喪失がある。 50(23) JP 6789240 B2 2020.11.25
【０１３３】点線の矢印によって指示されている容量軸上のジャンプの値は、高次多硫化物の不活性化を通じて一時的に喪失した容量とみなされる。
【０１３４】異なる放電率(0.5Cおよび1C)について0.1Cに対するECNセルモデルからのR 値の読み取Oりを調整することからの比較R プロットを示す図14に示されているように、電流が高けれOば高いほど、一時的に喪失する容量は多くなる。
【０１３５】簡略化されたメモリモデルは、高プラトーと低プラトーとの間の境界であるV を当てはbめることによってパラメータ化され、これは低電流、定電流放電から推定され得る。図13 10に示されているように、この簡略化されたメモリモデルは、電流によりQ の変化を予測すtるようにセルモデルを調整するために使用され得る。
【０１３６】メモリモデルの別のより複雑な変化では、電子電流の存在と無関係に生じるTable 1(表1)に示されているような反応は、多硫化物系列における還元の異なる段階で活性および不活性の材料を表す追加の状態の必要十分なセットとともにモデルに追加される。モデルに含まれる種の数は、リチウム硫黄セルの性能を適切に記述できる最小の数となるように選択されるが、一般的に、酸化還元反応、分子、イオン、およびラジカルの会合および解離などの化学的相互変換、ならびに平衡状態にあるこれらの任意の組合せを含む。
【０１３７】 20
【表１】30
【０１３８】上記の手順に従って一組の式が立てられる。このモデルのパラメータ化は、Assaryら、J Phys. Chem C 118 (2014年)において利用可能なものなどの、考察されている反応および種に対する電気化学的パラメータを必要とし、そうでなければ、パラメータは予測され 40るか、または実験データに当てはめられ得る。
【０１３９】予測誤差最小化(PEM)によるパラメータ化上で説明されている方法に比べて計算コストが低い、したがって、たとえば、アプリケーション内でモデルパラメータをリアルタイムで識別する(さらにはセルモデル生成のための実験テストデータのパラメータを識別する)ために使用できるセルおよびメモリモデル生成およびパラメータ化の代替的方法は、予測誤差最小化である。
【０１４０】セルモデルに対するパラメータ値を識別するために、セルモデルのパラメータ(パラメータ値リソース512に対する)は、たとえば予測誤差最小化(PEM)(または好適な代替的手段 50(24) JP 6789240 B2 2020.11.25)によってアプリケーション(すなわち、セル動作状態測定手段400)から供給される入力から識別される。
【０１４１】PEMによる識別手順は、次の3つの主要部分を含む。1)モデル構造選択、2)モデルへのパラメータの当てはめ、および3)識別誤差最小化。これらの部分について、順に説明する。
【０１４２】1)モデル構造選択第1に、直列および/または並列につないだコンデンサおよび抵抗器の組合せを使用して等価回路が選択される。図15は、リチウム硫黄電池に対する等価回路モデルの一般形態を示している。ここで、一般モデルは、実験テストデータから供給されるか、または上で説 10明されているような時効効果、およびシャトル効果を考慮しているLi-Sセルの高忠実度物理モデルからシミュレートされた電圧源として好適な開放回路電圧1501を含むことが見てとれる。開放回路電圧は、Li-S電池に固有のメモリ効果1502および自己放電1503を含むように直列および/または並列につながっている抵抗器およびコンデンサの追加の等価回路によってさらに修正され得る。次いで、直列RC回路が、充電および放電の一般的傾向に対して電流負荷Iおよび温度Tの関数として電圧源を調整する。モデル構造は、精度と計算複雑度とのバランスをとるように選択されるべきである。次いで、モデルは、セルのSOC、SOH、内部抵抗R、および端子電圧V の予測を出力する。図7は、最も基本的な例を表していtる。
【０１４３】 202)モデルへのパラメータの当てはめモデルのパラメータ(すなわち、電圧源、オーム抵抗、および拡散抵抗成分値)を適合させるように適合基準が選択される。例示的な一アプローチは、識別手順である。セルモデルパラメータは、測定された端子電圧(実験データまたはアプリケーションデータからの)とセルモデル出力との間の最小の差が達成されるように決定される。モデルパラメータベクトル(θ)は、次のように定義される予測誤差(ε)が最小化されるように決定される。
【０１４４】
【数８】30
【０１４５】ここで、y(t )は時刻kにおけるセルの出力であり、k
【０１４６】
【数９】40
【０１４７】はパラメータθを使用する時刻kにおける出力の予測値である。予測誤差はパラメータベクトルに依存し、したがって、反復最小化手順が適用されなければならない。その結果、スカラー適合度関数が次のように最小化される。
【０１４８】(25) JP 6789240 B2 2020.11.25
【数１０】
【０１４９】3)識別誤差最小化識別誤差最小化アルゴリズムが選択され、例示的な一アプローチは、セルの端子電圧推 10定の平均誤差が以下で定義されている二乗平均平方根誤差(RMSE)基準を使用して計算される場合のものである。
【０１５０】
【数１１】20
【０１５１】ここで、V は測定されたセル端子電圧であり、t
【０１５２】
【数１２】
【０１５３】はセルモデル出力であり、NはV の秒数で表される長さである。図16dは、それぞれ図16at、図16b、および図16cにおけるR 、R 、およびC の識別されたECNモデルパラメータ値と 30O P P併せて、異なる充電レベルにあるRMSE値を示している。
【０１５４】カルマン型フィルタを使用する、リアルタイム充電状態推定法図17を参照すると、本発明の一実施形態による充電状態推定の例示的な方法1700を示している。
【０１５５】最初に、ステップ1701で、電流、電圧、および温度が、動的負荷においてセル動作状態測定手段400を使用して使用中に測定され、ステップ1702で、これらはメモリに記憶され、これらはメモリ513内のセルの動作履歴を反映する状態ベクトルを更新するために使用される。次いで、ステップ1701において測定された動作状態は、テーブルに記憶されてい 40る前の繰り返し状態の累積履歴(たとえば、充電-放電率および温度)とともに、または動作履歴513内の状態ベクトルとしてステップ1703で組み込まれている等価回路モデルに入力される。次いで、モデルパラメータは、たとえばPEM方法によって、ステップ1703で(セルモデルモジュール532を使用して)予測される。
【０１５６】次いで、ステップ1704でリチウム硫黄セルの動作モデルから実験的に導出されるか、または予測されたルックアップテーブルに基づき、ステップ1705で出力される電圧、温度、および抵抗などのシステムの測定可能なパラメータとともに、健康状態が(メモリ効果モジュール533を使用して)推定される。ステップ1706で、これらの推定された出力は、推定されたデータと実際の測定データとの比較によってフィードバックループ内で使用され、 50(26) JP 6789240 B2 2020.11.25パラメータ推定のステップ1707における精度をリアルタイムで高めることができる。
【０１５７】リチウム硫黄に対する共通の電池タイプに対する類似のシステムとは異なり、等価回路モデルは、それに加えて、温度ならびに充電および放電率の累積効果に応じて充電または放電後に最大容量Q を変化させるリチウム硫黄セル内の固有のメモリ効果を考慮する。t
【０１５８】メモリを意識したモデルは、充電状態および健康状態推定が標準セルの広範なキャリブレーションまたは広範な大量のテストデータに依存しないようにアプリケーションのソフトウェアまたはファームウェアで配備される。
【０１５９】 10実際、本発明の別の実施形態によれば、動的負荷の下でメモリ効果を含むリチウム硫黄の化学的性質の固有の特性に特有のモデルが実験データから生成される。等価回路モデル(または半経験的または完全に経験的な任意の物理ベースのセルモデルなどの代替的モデル)は、ソフトウェアまたはファームウェアのいずれかとしてアプリケーション内のリアルタイム組込システムの一部として実装される。電流等価回路ネットワークモデルパラメータは、パラメータ識別、および拡張カルマンフィルタ、アンセンテッドカルマンフィルタ、粒子フィルタ、ルーエンバーガー状態推定器(観察器)、またはセル状態推定器534を構成する任意の他の状態観察器もしくは状態推定器の変更形態などのカルマン型フィルタリングに対する同じアプローチを使用してリアルタイムで連続的に識別される。アルゴリズムの更新速度および数値精度は、アプリケーションニーズが示すようにプロセッサコス 20トに対してトレードオフの関係にある。
【０１６０】状態推定器としてカルマン型フィルタを使用するそのような実装の一例は、図18に例示されており、これは動作可能な等価回路モデルおよびカルマンフィルタリングを使用するリアルタイムSOC/SOH推定の概略を示している。ここで、1801において、電流負荷I、温度T、および端子電圧Vの測定された値は、動的負荷の際に、セル動作状態測定手段400から受け取られる。前のように、1802において、これらはたとえば、セルの履歴動作状態を表す状態ベクトルを更新するために使用されるメモリに受け渡され、次いでこれ以降、1803において、ECN状態推定器モジュール534に受け渡される。カルマンフィルタの予測ステップにおいて、この状態推定器534は、現在状態、SOCモデル531、および現在動作状態に基 30づき将来の与えられた時間ステップにおいて内部セル状態を予測するために使用される。次いで、セル動作状態測定手段400から受け取られたその将来の時間ステップにおける測定結果は、カルマンフィルタの補正ステップで使用される。最初に、予想される測定値は、1803で予測されたECN状態を調整するECN観察モデルによって1804において生成される。次いで、これは、カルマン利得を使用して、観察されたセル挙動に基づきECNモデルから現在のセル状態の予測を補正するために1806において後処理で使用され、1807において、その後繰り返し方式でECNモデルを調整し、改善するためにメモリにフィードバックされる、統計的適応値を決定するECNに対する統計的適応モデルにおいて1805で実際の測定された動作状態と比較される。アルゴリズムアーキテクチャは、いく通りもの仕方で実装され得る。例示的な配備アーキテクチャは、図19〜図22に示されている。 40
【０１６１】図19に示されている、最も単純なものは、カルマン型フィルタを使用して、等価回路ネットワークモデルの現在のパラメータを推定または識別し、パラメータ推定は、リチウム硫黄セルモデルから生成されるパラメータルックアップテーブルに対して解釈され、現在の健康状態(SoH)および充電状態(SOC)を推定する。
【０１６２】図20に示されているより複雑な形態では、非線形カルマンフィルタは、等価回路モデルおよびその関連するメモリ効果の非線形状態推定に使用できる。他の簡略化は、比較的単純な状態推定器を使用し、次いで、図21のアーキテクチャに示されているように、予測誤差に基づき最もあり得そうなSOCまたはSoHを選択する多重仮説フィルタを含む。図22に示 50(27) JP 6789240 B2 2020.11.25されているような、ファジー論理を使用するアーキテクチャは、また、状態推定に採用され、メモリ効果の理解の結果を組み込んだLi-Sモデルによって学習され得る。
【０１６３】この場合、データベースは全く必要なく、モデルのパラメータは連続的にチューニングされる。セル動作状態測定手段400からたとえば電圧、電流、および温度のリアルタイム入力が与えられた場合に、セルの端子電圧を予測するためにセルモデルが使用できる。
【０１６４】予測モデルの精度は、オンラインモデル識別に対する計算量と突き合わせてバランスがとられる。オンライン予測では、モデルは、所望の予測範囲について正しい間隔で更新されるべきである。予測範囲が低ければ低いほど、精度は高くなる。更新遅延がない場合、 10RMSEは上記の識別モデルに等しくなるであろう。図23は、簡略化された等価回路を使用する0.5から2%のSOC増分からの様々な予測範囲に対する予測結果を示す。例では、予測範囲を1%から2% SOCに引き上げると、計算量は50%低減されるが、平均RMSEは13から24mVに増加する。予測範囲は、更新速度が車両内の電力需要率に比例するようにSOCに基づき選択される。
【０１６５】本発明の一実施形態によれば、リチウム硫黄特有のルックアップテーブルまたはアルゴリズムは、電池システムに一体となっているか、またはソフトウェアもしくはファームウェアとしてアプリケーションシステム内にある電池管理システムまたはエネルギーシステムコントローラに記憶される。ルックアップテーブルは、動的負荷の下でメモリ効果を含 20むリチウム硫黄の化学的性質の固有の特性に特有のソフトウェアモデルを使用して書き込まれ、実験データからパラメータ化される。モデルの使用は、等価回路モデル(または半経験的または完全に経験的な物理ベースのセルモデルなどの代替的モデル)を参照する。これらのルックアップテーブルは、端子電圧が所定のカットオフ電圧に達したときに決定されるQ に関する様々な温度および電流(100% SOCまたは100% SOD)におけるセル抵抗およtび電圧を相関させる。「100% SOC/SOD」状態におけるQ は、セルの記憶されている累積履t歴、モジュールもしくは電池の以前の充電/放電率、充電/放電の深度、および温度プロファイルから導出されるセル中に存在する予測された利用可能な活性材料から決定され、それにより、電流充電または放電サイクルに対する最大充電もしくは放電容量を正確に予測する。セル平衡抵抗器を使用して電流、電圧、および計算された抵抗の測定結果によって 30フィードバックが供給される。セルインピーダンスは、平衡抵抗器の切り替えを通じて測定される。連続的電流パルスは、セル平衡抵抗器を切り替えることによってセルに課され、セルの端子電圧が測定される。テストは、アプリケーションがアイドル状態のときに任意の充電状態において実行され得る。サンプリングレートは、0.1秒から60分の間で変化し得る。各電流パルスの後に電池端子電圧が開放回路電圧V および/または定常状態に戻OCるのに十分な緩和時間(1秒から60秒)が続く。このようにして、状態推定は広範なキャリブレーションを必要とせず、動的負荷の下で適用する際に取り込まれるデータに基づきリアルタイムで更新され得る。
【０１６６】本発明の別の実施形態によれば、このモデルは、リアルタイム電池管理システムまたは 40エネルギーシステムコントローラ内に配備される。このモデルの典型的な形態は、SOC、電流振幅、温度を含む、すべての状態に対する大量のテストデータを必要とする、いくつかの入力に基づきモデルパラメータを返すルックアップテーブルとすることも可能である。
【０１６７】SOH推定に対する端子電圧予測のこのアプローチは、放電/充電特性の類似の傾向が与えられた場合に複数のセルタイプに一般的に適用可能である。このアプローチは、任意のセルの化学的性質および設計に使用することができる。これは、また、リチウム硫黄セルのすべての複雑な特徴を含む物理モデルからの高忠実度予測を、必要な計算量が低減されたことによってパラメータがアプリケーションの電池管理システムまたはエネルギーシステ 50(28) JP 6789240 B2 2020.11.25ムコントローラ内でリアルタイムで識別され得るより単純な組み込みモデルに結合する方法でもある。高忠実度予測モデルは、外部刺激に曝されるリチウム硫黄セルの性能を記述するために基本物理理論の第1の原理から開発され得る。これらのモデルは、化学的性質、材料、セル構築、セル設計、および動作条件の効果を予測する。リチウム硫黄セルの高忠実度物理モデルからの出力では、シャトルおよび劣化メカニズムなどの特徴を考慮し、SOH推定を改善する。このようにして、高忠実度モデルは、健康状態、抵抗、電圧、および結果として得られる温度を予測するために印加される電流および温度とともに一定範囲の実験条件についてより単純な組み込みモデルをパラメータ化するために使用され得る。組み込みモデルは、リアルタイムで、または実験施設内で、セルの動作履歴(たとえば、電流および温度プロフィール)が与えられた場合に直接的に測定できない内部状態、また 10は仮想状態(SOHおよびSOCなど)を予測するために使用される。
【０１６８】前述の内容からわかるように、本発明によれば自己放電、シャトル、およびリチウム硫黄電池に特有の他の時効メカニズムの効果とともにデバイス組込等価回路モデル(または完全に経験的なセルモデルを含む物理ベースまたは半経験的な物理学にアイデアを得たモデルなどの他のモデルタイプ)内の電解液中の中間種の溶解によって引き起こされるメモリ効果を含め、電流、温度、内部抵抗を検出してフィードバックを送ることによって、システムのSOHは、リアルタイムで、動的な繰り返し状態の下で検出され得る。このソフトウェア/ファームウェアソリューションは、状態推定のためさらなるスタンドアロンデバイスを電池管理システムに追加することなく実装され得る。 20
【０１６９】以下からわかるように、少なくとも一部はLiSセルなどのセルによって給電される電気自動車(EV)の電池管理システムまたはエネルギーシステムコントローラ内に、メモリ効果の悪影響を受ける、前記セルの充電状態および健康状態を確実に推定するために上記の装置および方法を実現することで、改善された航続距離推定およびルート計画を電気自動車の使用に関して実行できる。これは、図23を参照して例示されているが、次にこれを参照する。
【０１７０】例示的な一実施形態において、電気自動車の航続距離を推定し、ルートを計画するための方法2300は、したがって、ステップ2301において、使用中のセルの充電状態および残り 30容量を推定するために上で説明されているような方法を実行するステップを含む。
【０１７１】次いで、ステップ2302において、方法は、使用中のセルの充電状態および残り容量の推定に基づき電気自動車の航続距離を推定するステップをさらに含む。
【０１７２】次いで、ステップ2303において、方法は、所望の目的地に向かうルートを、そのルートを辿るセルの予測された動作状態に基づき航続距離推定モジュールによって生成される電気自動車の推定された航続距離に少なくとも一部は基づき計画するステップをさらに含む。これは、ルート計画モジュールによって計画された複数のルートから、それらのルートに沿った車両の推定航続距離、および適宜、それらのルートに沿った充電または電池交換 40地点などの他の情報に基づき、目的地に向かうルートを2304において最適化するように適合されているルート計画アルゴリズムを使用して実行され得る。それに加えて、残り容量の推定は、たとえば、与えられた予測ルートにわたって、そのルートでの運転者の与えられた運転スタイルについて、そのルート上の与えられた環境条件についてなど、車両の使用中のセルの予測される動作状態に基づき得るので、航続距離推定およびルート計画アルゴリズムは、たとえば繰り返しにより、運転者がそれを辿って与えられた目的地に到着する最適なルートを推奨するようにこれらの因子に関して解くことができる。典型的には、ルート選択は、与えられた旅行を完遂するのに必要な保存容量に基づき最適化されるが、代替的に、旅行を完遂する速度、または他の基準についての最適化により大きいウェートを置くことができる。 50(29) JP 6789240 B2 2020.11.25
【０１７３】本発明は、最も実用的で、好ましい実施形態であると考えられているものに関して説明されているが、本発明は、開示されている実施形態および図面に限定されるべきでなく、却って、付属の請求項の趣旨および範囲内の様々な修正形態および変更形態を対象とすることを意図されていることを理解されたい。様々なタイプの回路およびデバイスが、本発明に従って説明されているような測定システムを実装するために使用され得る。これは、例示的であり、本発明の範囲および趣旨から逸脱することなく当業者であれば様々な修正を行うことができることは理解されるであろう。本発明は、次の請求項によってのみ限定される。
【符号の説明】 10
【０１７４】102 変化300 装置301 メモリ302 コントローラ303 端子電圧感知回路304 電流負荷感知回路305 セル内部抵抗感知回路306 温度センサ400 セル動作状態測定手段 20403 セル511 プログラム論理512 パラメータ値リソース513 メモリ521 プロセッサ522 RAM531 SOCモデル532 セルモデルモジュール533 メモリ効果モジュール534 セル状態推定器 30535 SOC推定器モジュール1501 開放回路電圧1502 メモリ効果1503 自己放電(30) JP 6789240 B2 2020.11.25
【図１】 
【図２】
【図３】 
【図５】
【図４】(31) JP 6789240 B2 2020.11.25
【図６ａ】 
【図７ａ】
【図７ｂ】
【図６ｂ】
【図８ａ】 
【図９ａ】
【図９ｂ】
【図８ｂ】(32) JP 6789240 B2 2020.11.25
【図１０】 
【図１１ｂ】
【図１１ａ】 
【図１２ａ】
【図１２ｂ】 
【図１４】
【図１３】 
【図１５】(33) JP 6789240 B2 2020.11.25
【図１６ａ】 
【図１６ｃ】
【図１６ｄ】
【図１６ｂ】
【図１７】 
【図１８】(34) JP 6789240 B2 2020.11.25
【図１９】 
【図２０】
【図２１】 
【図２２】(35) JP 6789240 B2 2020.11.25
【図２３】
【図２４】(36) JP 6789240 B2 2020.11.25フロントページの続き(51)Int.Cl. ＦＩＢ６０Ｌ 3/00 (2019.01) Ｈ０１Ｍ 10/42 ＰＢ６０Ｌ 3/00 Ｓ(72)発明者 マーク・ワイルドイギリス・ＯＸ１４・３ＤＢ・アビンドン・（番地なし）・カルハム・サイエンス・センター・イー１・カルハム・イノベーション・センター・オキシス・エナジー・リミテッド内(72)発明者 グレッグ・オファー 10イギリス・ＳＷ７・２ＰＧ・グレーター・ロンドン・ロンドン・プリンスズ・ゲイト・エキシビジョン・ロード・５２・インペリアル・イノベイションズ・リミテッド内(72)発明者 モニカ・マリネスクイギリス・ＳＷ７・２ＰＧ・グレーター・ロンドン・ロンドン・プリンスズ・ゲイト・エキシビジョン・ロード・５２・インペリアル・イノベイションズ・リミテッド内(72)発明者 ダニエル・オーガーイギリス・ＭＫ４３・０ＡＬ・ベッドフォードシャー・クランフィールド・カレッジ・ロード・（番地なし）・クランフィールド・ユニヴァーシティ内(72)発明者 アッバース・フォトウヒイギリス・ＭＫ４３・０ＡＬ・ベッドフォードシャー・クランフィールド・カレッジ・ロード・（ 20番地なし）・クランフィールド・ユニヴァーシティ内(72)発明者 ゲライント・ミントンイギリス・ＯＸ１４・３ＤＢ・オックスフォードシャー・アビンドン・（番地なし）・カルハム・サイエンス・センター・イー１・カルハム・イノベーション・センター・オキシス・エナジー・リミテッド内審査官 永井 皓喜(56)参考文献 特表２００８−５３８６０８（ＪＰ，Ａ）米国特許出願公開第２０１３／００９６８５８（ＵＳ，Ａ１） 30米国特許出願公開第２００４／０１６２６８３（ＵＳ，Ａ１）特開２０１１−７５３８２（ＪＰ，Ａ）(58)調査した分野(Int.Cl.，ＤＢ名)Ｇ０１Ｒ ３１／３６７Ｇ０１Ｒ ３１／３８２Ｇ０１Ｒ ３１／３８５Ｈ０１Ｍ １０／４８Ｈ０１Ｍ １０／４２Ｂ６０Ｌ ３／００ 40']